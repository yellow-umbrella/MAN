<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Hello World!</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <script language="javascript" type="text/javascript" src="./node_modules/p5/lib/p5.js"></script>
        <script language="javascript" type="text/javascript" src="./node_modules/p5/lib/addons/p5.dom.js"></script>
        <script language="javascript" type="text/javascript" src="./node_modules/p5/lib/addons/p5.sound.js"></script>
        <script>
            //let p5 = require('p5');
            function toggleMenu(width, id) {
                document.getElementById(id).style.width = width;
                if (id == "sidebar-right") {
                    document.getElementById("button-bottom").style.right = (5 + parseInt(width)).toString() + 'px';
                }
            }
            function switchTo(sketch) {
                let main = document.getElementById("main");
                while (main.firstChild) 
                    main.removeChild(main.firstChild);
                delete require.cache[require.resolve('./sketches/'+sketch)]
                require("./sketches/"+sketch);
                document.getElementById("help").src = "./frames/"+sketch+".html";
            }
        </script>
    </head>
    <body>
        <div class="sidebar" id="sidebar-left"> 
            <span class="close" onclick="toggleMenu('0', 'sidebar-left')">&times;</span>
            <span onclick="switchTo('charge')">&bull; Charge</span>
            <span onclick="switchTo('springs')">&bull; Springs</span>
            <span onclick="switchTo('flyingBody')">&bull; Flying</span>
            <span onclick="switchTo('impulse')">&bull; Impulse</span>
        </div>
        <div class="button left" onclick="toggleMenu('200px','sidebar-left')">&#xf0c9;</div>
        <div class="sidebar" id="sidebar-right">
            <span class="close" onclick="toggleMenu('0','sidebar-right')">&times;</span> 
            <iframe id="help" src="./frames/start.html"></iframe>
        </div>
        <div class="button right" onclick="toggleMenu('200px','sidebar-right')">&#xf661;</div>
        <div class="button bottom" id="button-bottom">&#xf141;</div>
        <div id="main"> </div>
    </body>
</html>
